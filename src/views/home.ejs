<!-- src/views/home.ejs -->
<section class="hero">
  <div class="hero-inner container">
    <h1 class="hero-title"><%= __('home.title') %></h1>
    <p class="hero-subtitle"><%= __('home.subtitle') %></p>

    <div class="actions">
      <a class="btn btn-primary" href="/inventory"><%= __('home.viewInventory') %></a>
      <a class="btn btn-secondary" href="https://wa.me/18506333816" target="_blank" rel="noopener">
        <%= __('home.whatsapp') %>
      </a>
    </div>

    <form class="search" action="/inventory" method="get">
      <input  type="text"
              name="q"
              aria-label="<%= __('home.search') %>"
              placeholder="<%= __('home.searchPlaceholder') %>">
      <button class="btn btn-ghost" type="submit"><%= __('home.search') %></button>
    </form>
  </div>
  <div class="hero-bg"></div>
</section>

<section class="features container">
  <div class="feature">
    <h3><%= __('home.time') %></h3>
    <p><%= __('home.timeText') %></p>
  </div>
  <div class="feature">
    <h3><%= __('home.checked') %></h3>
    <p><%= __('home.checkedText') %></p>
  </div>
  <div class="feature">
    <h3><%= __('home.financing') %></h3>
    <p><%= __('home.financingText') %></p>
  </div>
</section>

<section class="new-inventory">
  <div class="container">
    <div class="section-head">
      <h2><%= __('home.newInventory') %></h2>
      <a class="btn btn-ghost" href="/inventory"><%= __('home.viewAll') %></a>
    </div>

    <% const list = Array.isArray(featured) ? featured : []; %>
    <% if (list.length === 0) { %>
      <p class="muted"><%= __('home.noVehicles') %></p>
    <% } else { %>
      <div class="grid">
        <% list.forEach(v => { %>
          <article class="card">
            <img src="<%= v.main_photo || '/assets/placeholder.jpg' %>"
                 alt="<%= `${v.year || ''} ${v.make || ''} ${v.model || ''}`.trim() %>">
            <div class="card-body">
              <h3 class="card-title"><%= `${v.year || ''} ${v.make || ''} ${v.model || ''}`.trim() %></h3>
              <p class="card-meta">
                <%= v.mileage ? v.mileage.toLocaleString() + ' mi' : '' %>
                <%= v.price ? ' Â· $' + Number(v.price).toLocaleString() : '' %>
              </p>
              <a class="btn btn-primary" href="/inventory/<%= v.id %>"><%= __('home.viewInventory') %></a>
            </div>
          </article>
        <% }) %>
      </div>
    <% } %>
  </div>
</section>

<section class="cta container">
  <h2><%= __('home.sellTitle') %></h2>
  <p><%= __('home.sellText') %></p>
  <a class="btn btn-primary" href="/contact"><%= __('home.contactUs') %></a>
</section>
